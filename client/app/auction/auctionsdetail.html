  <div class="container">        

  <div class="form-group"></div>
  <div class="row">
    <div class="col-sm-3" ng-class="{hidefilter: !filterbutton.value1}">
      <button class="btn btn-danger visible-xs filter-display" ng-click="filterbutton.value1 = !filterbutton.value1">Close</button>
      <div class="well">
        <form role="form"> 
          <label for="" class="text-muted">Asset Id</label>
          <input type="text" class="form-control form-group" name="" value="" placeholder="Asset Id" ng-model="equipmentSearchFilter.assetId
          " ng-change="auctionDetailsVm.fireCommand()"> 

          <label for="" class="text-muted">Asset Category</label>
          <select class="form-control form-group" name="category" ng-model="equipmentSearchFilter.category" ng-change="auctionDetailsVm.onCategoryChange(equipmentSearchFilter.category)">
            <option value="">Select Category</option>
            <option value="{{cat.name}}" ng-repeat="cat in allCategory">{{cat.name}}</option>
          </select>

          <label for="" class="text-muted">Brand</label>
          <select class="form-control form-group" name="brand" ng-model="equipmentSearchFilter.brand" ng-change="auctionDetailsVm.onBrandChange(equipmentSearchFilter.brand)">
            <option value="" >Select Brand</option>
            <option value="{{br.name}}" ng-repeat="br in brandList">{{br.name}}</option>
          </select>

          <label for="" class="text-muted">Model</label>
          <select class="form-control form-group" name="model" ng-model="equipmentSearchFilter.model" ng-change="auctionDetailsVm.fireCommand()">
            <option value="" >Select Model</option>
            <option value="{{md.name}}" ng-repeat="md in modelList">{{md.name}}</option>
          </select>

          <label for="" class="text-muted">Location</label>
                <div class="form-group">
                  <input type="text" class="form-control" ng-model="equipmentSearchFilter.locationName" placeholder="Enter Location" uib-typeahead="address for address in getLocationHelp($viewValue)"  class="form-control" typeahead-focus-first = "false" typeahead-wait-ms="200"
                   ng-change="auctionDetailsVm.fireCommand()" typeahead-on-select="auctionDetailsVm.fireCommand()" ng-model-options="{debounce:1000}"/>
                </div>

          <div class="form-group">
                  <label for="" class="text-muted">Manufacturing Year</label>
                  <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6">
                      <div class="input-group">
                        <input type="text" class="form-control" ng-value="mfgyr.min" ng-model="mfgyr.min" uib-datepicker-popup="{{format}}" datepicker-options="{{datepickerOptions}}" is-open="datepickers.min" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Min" ng-keypress="$event.preventDefault()" disabled ng-change="auctionDetailsVm.productSearchOnMfg()"/>
                    <a href class="input-group-addon" ng-click="open($event,'min')">
                      <i class="fa fa-calendar-o"></i>
                    </a>
                      </div>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6">
                      <div class="input-group">
                        <input type="text" class="form-control" ng-value="mfgyr.max" ng-model="mfgyr.max" uib-datepicker-popup="{{format}}" datepicker-options="{{datepickerOptions}}" is-open="datepickers.max" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Max" ng-keypress="$event.preventDefault()" disabled  ng-change="auctionDetailsVm.productSearchOnMfg()"/>
                        <a href class="input-group-addon" ng-click="open($event,'max')">
                          <i class="fa fa-calendar-o"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
        </form>
      </div>
    </div> 
    <div class="col-sm-9">
      <div class="row callLocation">
        <div class="col-sm-5">
      <h4>{{auctionTypeValue | titleCase}} {{auctionName}} - {{auctionCity}}</h4>
        </div>
        <div class="col-xs-3 visible-xs filter-btn form-group">        
          <button class="btn btn-block btn-danger btn-sm" ng-click="filterbutton.value1 = !filterbutton.value1">
            <i class="fa fa-filter"></i> Filter
          </button>
        </div>         
        <div class="col-xs-12 col-sm-7 text-right padd-left">
          <a ng-if="auctionOrientation === 'L'" ng-disabled="auctionType === 'upcomingAuctions'" ng-click="auctionDetailsVm.openLiveAuctionURL()" href="javascript:void(0);" class="btn btn-sm btn-danger">View Live Auction</a>
          <a href="javascript:void(0);" ng-if="auctionType !='closedAuctions'" ng-click="auctionDetailsVm.openBidModal(product)" class="btn btn-default btn-sm active">Register Now</a>
          <a href="{{uploadImagePrefix}}{{auctionDir}}/{{docName}}" class="btn btn-sm btn-default active" ng-if="docType == 'bidProxy'" target="_blank"><i class="fa fa-file-text-o"></i> Proxy Form</a>
          <a href="{{uploadImagePrefix}}{{auctionDir}}/{{docName}}" class="btn btn-sm btn-default active" ng-if="docType == 'tc'" target="_blank"><i class="fa fa-file-pdf-o"></i> <span class="hidden-xs">Auction Catalogue</span></a>
          <a href="{{uploadImagePrefix}}{{auctionDir}}/{{docNameProxy}}" class="btn btn-sm btn-primary" ng-if="!docType &&  docNameProxy" target="_blank"><i class="fa fa-file-text-o"></i> Proxy Form</a>
          <a href="{{uploadImagePrefix}}{{auctionDir}}/{{docName}}" class="btn btn-sm active btn-default" ng-if="!docType && docName" target="_blank"><i class="fa fa-file-pdf-o"></i> Auction Catalogue</a>
          <a href="javascript:void(0);" ng-click="auctionDetailsVm.backButton()" class="btn btn-default btn-sm active"> <i class="fa fa-chevron-left"></i> <span class="hidden-xs">Back</span></a>

        </div>         
      </div>
      <div class="auctionText" ng-if="termAuction || contactName || contactNumber">
        <div class="row">
          <div class="col-sm-6">
            {{termAuction}}
          </div>
          <div class="col-sm-6 text-right">
            <a ng-if="contactNumber" href="tel:{{contactNumber}}">
              <i class="fa fa-phone"></i>
              <span ng-if="contactName">{{contactName}}</span> 
              <span ng-if="contactNumber">({{contactNumber}})</span>
            </a>
            <a ng-if="!contactNumber" >
              <span ng-if="contactName">{{contactName}}</span> 
              <span ng-if="contactNumber">({{contactNumber}})</span>
            </a>
          </div>
        </div>
      </div>
      <legend></legend>

      <div>

      <div>
        <div>
         <div class="row"> 
              <div class="col-sm-6" ng-repeat="lot in auctionDetailsVm.lotListing track by $index" ng-if="auctionOrientation !== 'L' && isLoggedIn()" ng-class="{'col-sm-12': lot.isVisible}">
                <div class="row form-group auction-list auction-details lots-buttons">
                  <div class="col-sm-6" ng-class="{'col-sm-12': !lot.isVisible}">
                    <div class="media form-group">
                        <a  ng-if="auctionDateVm.getProductData(product._id, 'total_products') != 0" class="pull-left" href="/assetinauction?auctionType={{product.auctionValue}}&auctionId={{product.auctionId}}&id={{product._id}}">
                          <img class="media-object" ng-if="lot.primaryImg" ng-src="{{lot.primaryImg}}" alt="Image">                
                          <img class="media-object" ng-if="!lot.primaryImg" src="assets/uploads/auctionmaster/upcoming_12.jpg" alt="Image" height="100">                
                        </a>
                     
                        <div class="media-body">
                          <p>Lot Number - {{lot.lotNumber}}</p>
                          <p>Asset Description : 
                          <span ng-repeat="assetId in lot.assetDesc track by $index">
                            <a href="javascript:void(0)" ng-click="fetchAsset(assetId,lot.lotNumber,false)"> {{assetId}} ,</a>
                          </span>
                        </p>
                        <p>Lot Amount Value - {{lot.amount}}</p>
                          
                          <div class="row callLocation">
                            <div class="col-sm-8 form-group">
                              <p ng-if="product.auctionAddr"><strong><i class="fa fa-map-marker"></i> </strong> <a href="javascript:void(0);" ng-click="auctionDateVm.showAddress(product.auctionAddr,product.city,product.state)">{{product.auctionAddr}}</a> </p>
                            </div>               
                            <div class="col-xs-12 text-right">
                              <a ng-disabled="lot.assetDesc.length > 1" ng-click="fetchAsset(assetId,lot.id,true)" href="javascript:void(0)"  class="btn btn-sm btn-danger">View Details</a>
                            </div>                        
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6" ng-if="isLoggedIn()">
                    <div ng-if="lot.isVisible">  
                         
                        <iframe ng-src="{{lot.url}}" style="width: 100%; height: 400px; border: 1px solid #eee;"></iframe>
                          
                    </div> 
                  </div>
                </div>
              </div>
              <div class="col-sm-6 form-group" ng-repeat="lot in auctionDetailsVm.lotListing track by $index" ng-if="auctionOrientation !== 'L' && !isLoggedIn()">
                <div class="col-sm-12 auction-list auction-details lots-buttons">
                  <div class="media col-sm-12 form-group">
                      <a  ng-if="auctionDateVm.getProductData(product._id, 'total_products') != 0" class="pull-left" href="/assetinauction?auctionType={{product.auctionValue}}&auctionId={{product.auctionId}}&id={{product._id}}">
                        <img class="media-object" ng-if="lot.primaryImg" ng-src="{{lot.primaryImg}}" alt="Image">                
                        <img class="media-object" ng-if="!lot.primaryImg" src="assets/uploads/auctionmaster/upcoming_12.jpg" alt="Image" height="100">                
                      </a>
                   
                      <div class="media-body">
                        <p>Lot Number - {{lot.lotNumber}}</p>
                        <p>Asset Description : 
                        <span ng-repeat="assetId in lot.assetDesc track by $index">
                          <a href="javascript:void(0)" ng-click="fetchAsset(assetId,lot.lotNumber,false)"> {{assetId}} ,</a>
                        </span>
                      </p>
                      <p>Lot Amount Value - {{lot.amount}}</p>
                        
                        <div class="row callLocation">
                          <div class="col-sm-8 form-group">
                            <p ng-if="product.auctionAddr"><strong><i class="fa fa-map-marker"></i> </strong> <a href="javascript:void(0);" ng-click="auctionDateVm.showAddress(product.auctionAddr,product.city,product.state)">{{product.auctionAddr}}</a> </p>
                          </div>               
                          <div class="col-xs-12 text-right">
                            <a ng-disabled="lot.assetDesc.length > 1" ng-click="fetchAsset(assetId,lot.id,true)" href="javascript:void(0)"  class="btn btn-sm btn-danger">View Details</a>
                          </div>                        
                      </div>
                    </div>
                  </div>
                </div>
              </div>
                 
          </div>

          <div class="row" ng-if="auctionOrientation == 'L'">
              <div class="col-sm-6" ng-repeat="lot in auctionDetailsVm.lotListing"> 
                <div class="auction-list auction-details live-display-asset">
                  <div class="media form-group">
                      <a  ng-if="auctionDateVm.getProductData(product._id, 'total_products') != 0" class="pull-left" href="/assetinauction?auctionType={{product.auctionValue}}&auctionId={{product.auctionId}}&id={{product._id}}">
                        <img class="media-object" ng-if="lot.primaryImg" ng-src="{{lot.primaryImg}}" alt="Image">                
                        <img class="media-object" ng-if="!lot.primaryImg" src="assets/uploads/auctionmaster/upcoming_12.jpg" alt="Image" height="100">                
                      </a>
                   
                      <div class="media-body">
  
                        <p>Lot Number - {{lot.lotNumber}}</p>
                        <p>Asset Description : 
                      <span ng-repeat="asset in lot.assetDesc">
                        <a href="javascript:void(0)" ng-click="fetchAsset(asset,lot.lotNumber,false)"> {{asset}} ,</a>
                      
                      
                      </span>
                      </p>
                      <p>Lot Amount Value - {{lot.amount}}</p>
                        
                        <div class="row callLocation">
                          <div class="col-sm-8 form-group">
                            <p ng-if="product.auctionAddr"><strong><i class="fa fa-map-marker"></i> </strong> <a href="javascript:void(0);" ng-click="auctionDateVm.showAddress(product.auctionAddr,product.city,product.state)">{{product.auctionAddr}}</a> </p>
                          </div>               
                                                 
                      </div>
                      <div class="media-footer">
                            <a ng-disabled="lot.assetDesc.length > 1" ng-click="fetchAsset(assetId,lot.id,true)" href="javascript:void(0)"  class="btn btn-sm btn-danger">View Details</a>
                          </div> 
                    </div>
                  </div>
                </div>                    
              </div>
          </div>
   
    </div>
    
  </div>	
</div>

<!-- Onclick google map location popup -->
<script type="text/ng-template" id="">
  <div>
    <div class="modal-header">
      <button type="button" class="close" ng-click="close()" aria-hidden="true">&times;</button>
       <h4 class="modal-title">Google Map Location</h4>
    </div>
    <div class="modal-body">
      
     
    </div>
  </div>
</script>