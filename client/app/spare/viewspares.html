  <div class="view-content">
  <section class="wrapper">
      <div class="container">
        <div class="row">
          <div class="col-sm-4 col-md-3 form-group">
            <div class="well">
              <h4>Spare search</h4>
                <form role="form">
                
                <label for="" class="text-muted">Spare Name</label>
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Enter Spare Name" ng-model="viewSpareVm.equipmentSearchFilter.sparename"  uib-typeahead="address for address in getLocationHelp($viewValue)"  class="form-control"  typeahead-focus-first = "false" typeahead-wait-ms="200" ng-change="viewSpareVm.fireCommand()" typeahead-on-select="viewSpareVm.fireCommand()" ng-model-options="{debounce:1000}">
                </div>
                <label for="" class="text-muted">Category</label>
                <div class="form-group">
                <select class="form-control col-md-2" name="category"  ng-model="viewSpareVm.selectedCategory" ng-change="viewSpareVm.onCategoryChange(viewSpareVm.selectedCategory)" ng-options="category.name for category in viewSpareVm.allCategory track by category._id">
                        <option value="">Select Category</option>
                </select>
                <i class="caret"></i>

                </div>

                <label for="" class="text-muted">Manufacturer</label>
                <div class="form-group">
                   <select class="form-control col-md-2" name="manufacturer" ng-model="viewSpareVm.selectedManufacturer" ng-options="manufacturer.name for manufacturer in viewSpareVm.manufacturerList track by manufacturer._id" ng-change="viewSpareVm.onManufacturerChange(viewSpareVm.selectedManufacturer)">
                        <option value="" >Select Manufacturer</option>
                  </select>

                  <i class="caret"></i>

                </div>

                <label for="" class="text-muted">Location</label>
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Location"  ng-model="viewSpareVm.equipmentSearchFilter.location"  uib-typeahead="address for address in getLocationHelp($viewValue)"  class="form-control"  typeahead-focus-first = "false" typeahead-wait-ms="200" ng-change="viewSpareVm.fireCommand()" typeahead-on-select="viewSpareVm.fireCommand()" ng-model-options="{debounce:1000}">
                </div>

                <label for="" class="text-muted">Price</label>                
                 <div class="form-group">
                    <div class="row">
                      <div class="col-xs-6 col-sm-6 col-md-6">
                        <div class="input-group">
                          <input type="number" class="form-control" name="" value="" ng-model="viewSpareVm.currency.minPrice" placeholder="Min"/>
                        </div>
                      </div>
                      <div class="col-xs-6 col-sm-6 col-md-6 padd-left">
                        <div class="input-group">
                          <input type="number" class="form-control" name="" value="" ng-model="viewSpareVm.currency.maxPrice" placeholder="Max"/>
                          <a herf class="input-group-addon" ng-click="viewSpareVm.spareSearchOnPrice($event)"><i class="fa fa-chevron-right"></i></a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="form-group">
                  <label for="" class="text-muted">Listing Date</label>
                  <div class="row">
                    <div class="col-xs-6 col-sm-6 col-md-6">
                      <div class="input-group">
                        <input type="text" class="form-control" ng-model="mfgyr.min" uib-datepicker-popup="{{format}}" datepicker-options="{{datepickerOptions}}" is-open="datepickers.min" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Min" ng-keypress="$event.preventDefault()" disabled ng-change="viewSpareVm.productSearchOnMfg()"/>
                    <a href class="input-group-addon" ng-click="open($event,'min')">
                      <i class="fa fa-calendar-o"></i>
                    </a>
                      </div>
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-6">
                      <div class="input-group">
                        <input type="text" class="form-control" ng-model="mfgyr.max"uib-datepicker-popup="{{format}}" datepicker-options="{{datepickerOptions}}" is-open="datepickers.max" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" placeholder="Max" ng-keypress="$event.preventDefault()" disabled  ng-change="viewSpareVm.productSearchOnMfg()"/>
                        <a href class="input-group-addon" ng-click="open($event,'max')">
                          <i class="fa fa-calendar-o"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div> -->
              </form>
            </div>
            <!-- <div class="form-group"></div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Spare Manufacturers</h3>
              </div>
              <div class="panel-body">
                
              </div>
            </div> -->
          </div>
          <div class="col-sm-8 col-md-9">

              <div class="row pull-right">                
                <div class="col-xs-12 col-sm-12">
                  <span>Sort by:</span>
                   <select ng-change="viewSpareVm.sortBy()" ng-model="viewSpareVm.sortByFlag">
                    <option value="">Relevance</option>
                    <option value="lh">Price : Low to High</option>
                    <option value="hl">Price : High to Low</option>
                    <option value="por">Price on Request</option>
                    <option value="ldate">Listing by Date</option>
                    <option value="exos">Exclude Out of Stock</option>
                  </select>                
                </div>
              </div>         

              <div ng-if="!noResult">
                 <uib-pagination total-items="viewSpareVm.totalItems" ng-model="viewSpareVm.currentPage" items-per-page="viewSpareVm.itemsPerPage" max-size="viewSpareVm.maxSize" boundary-links="true" rotate="false"></uib-pagination>
                 <span class="no-list text-right">Showing <b>{{((viewSpareVm.currentPage - 1)*viewSpareVm.itemsPerPage) + 1}}-<span ng-if="viewSpareVm.currentPage*viewSpareVm.itemsPerPage < viewSpareVm.totalItems">{{viewSpareVm.currentPage*viewSpareVm.itemsPerPage}}</span><span ng-if="viewSpareVm.currentPage*viewSpareVm.itemsPerPage >= viewSpareVm.totalItems">{{viewSpareVm.totalItems}}</span></b> of <b> {{viewSpareVm.totalItems}}</b></span>
                <div id="spareviews_wrapper" class="search-result">
                  <div class="sorts-spareviews">
                    <ul class="spareViews">
                      <li ng-repeat="spare in viewSpareVm.spareList | startFrom:(viewSpareVm.currentPage -1 )*viewSpareVm.itemsPerPage | limitTo:viewSpareVm.itemsPerPage">
                        <article class="col-item">
                          <div class="photo">
                          <div class="options-cart-round">
                            <button class="btn btn-default" title="Add to cart" ng-click="viewSpareVm.addSpareToCart(spare)">
                              <span class="fa fa-shopping-cart"></span>
                            </button>
                          </div>
                          <div class="options">                       
                              <span ng-if="spare.grossPrice && !spare.priceOnRequest"> <i class="fa fa-inr"></i> {{spare.grossPrice}}</span>
                              <span ng-if="spare.priceOnRequest"> Price On Request</span>                            
                          </div>
                          <a href="/sparedetail/{{spare._id}}"> <img src="{{uploadImagePrefix}}{{spare.assetDir}}/{{spare.primaryImg}}" class="img-responsive" alt="Product Image" /> </a>
                        </div>
                        <div class="info">
                          <div class="price-details">
                            <h4>{{spare.name}}</h4>
                            <p class="text-ellips">{{getLocations(spare.locations)}}</p>
                            {{spare.manufacturers.name}}
                            
                          </div>
                        </div>
                        <div class="btn-group">
                          <a href="/sparedetail/{{spare._id}}" class="btn btn-default" >View Details</a>
                          <a href="javascript:void(0);" class="btn btn-default" ng-disabled="spare.priceOnRequest || spare.paymentOption.indexOf('Online') == -1 || isAdmin()" ng-click="viewSpareVm.buyNow(spare,'online')">Buy Now</a>
                        </div>
                        </article> 
                      </li>
                      

                    </ul>

                  </div>
                </div>
               <!-- <uib-pagination ng-click="categorylistPageClick()" total-items="viewSpareVm.totalItems" ng-model="viewSpareVm.currentPage" items-per-page="viewSpareVm.itemsPerPage" max-size="viewSpareVm.maxSize" boundary-links="true" rotate="false"></uib-pagination> -->
              </div>
              <div class="no-result" ng-if="viewSpareVm.noResult">No results found</div>

              <div class="clearfix form-group"> </div>
                <div class="panel panel-default">
                <div class="panel-heading">
                 <h3 class="panel-title"><strong>Recently Added Spares</strong></h3>
                </div>
                <div class="panel-body search-result spares-arrow">
                    <uib-carousel no-wrap="noWrapSlides">
                      <uib-slide ng-repeat="gpSlide in viewSpareVm.sortedSpares">
                        <ul class="spareViews">
                          <li ng-repeat="slide in gpSlide">
                            <article class="col-item">
                              <div class="photo">
                                <div class="options-cart-round">
                                  <button class="btn btn-default" title="Add to cart" ng-click="viewSpareVm.addSpareToCart(slide)">
                                    <span class="fa fa-shopping-cart"></span>
                                  </button>
                                </div>
                                <div class="options">                       
                                  <span ng-if="slide.grossPrice && !slide.priceOnRequest"> <i class="fa fa-inr"></i> {{slide.grossPrice}}</span>
                                  <span ng-if="slide.priceOnRequest"> Price On Request</span>                                
                                </div>
                                <a href="/sparedetail/{{slide._id}}" >
                                  <img ng-src="{{uploadImagePrefix}}{{slide.assetDir}}/{{slide.primaryImg}}" class="img-responsive">
                                </a>
                              </div>
                            <div class="info">
                              <div class="price-details">
                                <h4 class="text-left">{{slide.name}}</h4>
                                <p class="text-left text-ellips">{{getLocations(slide.locations)}}</p>
                                <p class="text-left">{{slide.manufacturers.name}}</p>
                                
                              </div>
                            </div>
                            <div class="btn-group">
                              <a href="/sparedetail/{{slide._id}}" class="btn btn-default" >View Details</a>
                              <a href="javascript:void(0);" class="btn btn-default" ng-disabled="slide.priceOnRequest || slide.paymentOption.indexOf('Online') == -1 || isAdmin()" ng-click="viewSpareVm.buyNow(slide,'online')">Buy Now</a>
                            </div>
                            </article> 
                          </li> 
                        </ul>
                      </uib-slide>
                    </uib-carousel>
                </div>
              </div>
             
          </div>
      </div>
    </section>
    </div>
<!--<script type="text/ng-template" id="myPopoverTemplate.html">
        <h4>{{product.name}}</h4>
        <div>{{product.category.name}}</div>
</script>-->
